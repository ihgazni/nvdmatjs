!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.RNESTED=t():n.RNESTED=t()}(this,function(){return function(n){var t={};function i(e){if(t[e])return t[e].exports;var r=t[e]={i:e,l:!1,exports:{}};return n[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=n,i.c=t,i.d=function(n,t,e){i.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},i.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,t){if(1&t&&(n=i(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)i.d(e,r,function(t){return n[t]}.bind(null,r));return e},i.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(t,"a",t),t},i.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},i.p="",i(i.s=1)}([function(n,t){function i(n){return n.length-1}function e(n){return n[i(n)]}function r(n,t){return n===t||n!=n&&t!=t}function l(n){return Array.isArray(n)||n instanceof Array}function u(n){return"[object Date]"===toString.call(n)}function d(n){return"[object RegExp]"===toString.call(n)}function s(n){return n&&n.window===n}function o(n){return n&&n.$evalAsync&&n.$watch}function f(n){return"function"==typeof n}function c(n){return void 0!==n}function _(){return Object.create(null)}n.exports={deepcopyJSON:function(n){return JSON.parse(JSON.stringify(n))},afindi:function(n,t,i){return i.findIndex(i=>i[n]===t)},afindv:function(n,t,i){return i.find(i=>i[n]===t)},getlsti:i,getlstv:e,getlsta:function(n,t){return e(t)[n]},secdel:function(n,t,i){let e=t-n+1;return i.splice(n,e),i},insert:function(n,t,i){return i.splice(n,0,t),i},insertl:function(n,t,i){return i.splice(n,0,...t),i},norecurEq:function(n,t){for(let i=0;i<n.length;i++){if(!1===(n[k]===t[k]))return!1}return!0},simpleCompare:r,isArray:l,isDate:u,isRegExp:d,isWindow:s,isScope:o,isFunction:f,isDefined:c,createMap:_,equals:function n(t,i){if(t===i)return!0;if(null===t||null===i)return!1;if(t!=t&&i!=i)return!0;var e,b,p,a=typeof t;if(a===typeof i&&"object"===a){if(!l(t)){if(u(t))return!!u(i)&&r(t.getTime(),i.getTime());if(d(t))return!!d(i)&&t.toString()===i.toString();if(o(t)||o(i)||s(t)||s(i)||l(i)||u(i)||d(i))return!1;for(b in p=_(),t)if("$"!==b.charAt(0)&&!f(t[b])){if(!n(t[b],i[b]))return!1;p[b]=!0}for(b in i)if(!(b in p)&&"$"!==b.charAt(0)&&c(i[b])&&!f(i[b]))return!1;return!0}if(!l(i))return!1;if((e=t.length)===i.length){for(b=0;b<e;b++)if(!n(t[b],i[b]))return!1;return!0}}return!1}}},function(n,t,i){const e=i(2);i(0);n.exports={ndfunc:e}},function(n,t,i){const e=i(0);function r(n){return null===n._pid}function l(n){return null===n._lsibid}function u(n){return null===n._rsibid}function d(n){return null===n._fstchid}function s(n){return null!==n._fstchid&&void 0!==n._fstchid}function o(n){return null!==n._rsibid&&void 0!==n._rsibid}function f(n,t){return null===n?null:e.afindv("_id",n,t)}function c(n){let t={_fstchid:void 0,_lsibid:void 0,_rsibid:void 0,_id:n.currid,_pid:void 0,_depth:void 0};return n.currid=n.currid+1,t}function _(n){return n._fstchid=null,n}function b(n,t){return f(n._lsibid,t)}function p(n,t){return f(n._rsibid,t)}function a(n,t){let i=[];for(;null!==n&&null!==(n=b(n,t));)i.push(n);return i.reverse(),i}function g(n,t){let i=[];for(;null!==n&&null!==(n=p(n,t));)i.push(n);return i}function h(n,t){let i=a(n,t);return 0===i.length?n:i[0]}function v(n,t){let i=g(n,t),r=0===i.length?n:e.getlstv(i);return r=void 0===r?null:r}function y(n,t){let i=a(n,t),e=g(n,t);return Array.prototype.concat(i,[n],e)}function S(n,t){return f(n._fstchid,t)}function A(n,t,i){if(d(t))return null;{let e=0,r=S(t,i),l=p(r,i);for(;e<n&&null!==l;)l=p(r=l,i),e+=1;return r=e<n?null:r}}function m(n,t){let i=[];if(d(n));else{let e=S(n,t);i.push(e),i=i.concat(g(e,t))}return i}function L(n,t){let i=m(n,t),r=e.getlstv(i);return r=void 0===r?null:r}function F(n,t){return f(h(n,t)._pid,t)}function O(n,t){let i=[],e=F(n,t);for(;null!==e;)i.push(e),e=F(e,t);return i}function x(n,t){let i=O(n,t);return Array.prototype.concat([n],i)}function R(n,t,i){let e=F(t,i),r=0;for(;null!==e&&r<n;)e=F(e,i),r+=1;return e}function w(n,t){let i=o(n);for(;!i&&null!==(n=F(n,t));)i=o(n);return n}function N(n,t){let i=0,e=F(n,t);for(;null!==e;)e=F(e,t),i+=1;return i}function j(n,t){let i=w(n,t);if(null===i)return null;return p(i,t)}function D(n,t){let i=n,e=L(i,t);for(;null!==e;)e=L(i=e,t);return i}function I(n,t){let i,e=S(n,t);return i=null===e?j(n,t):e}function M(n,t,i){let r=O(t,i);return e.afindi("_id",n._id,r)>=0}function P(n,t,i){let r=x(t,i);return e.afindi("_id",n._id,r)>=0}function T(n,t){let i=[],e=n;for(;null!==n&&P(e,n,t);)i.push(n),n=I(n,t);return i}function E(n,t){let i=n-t[0]._depth;return t=t.map(n=>(n._depth=n._depth+i,n))}function B(n){return n._pid=null,n}function q(n){return n._lsibid=null,n}function C(n){let t,i;return e.isArray(n)?i=(t=n)[0]:(t=[n],i=n),[t,i]}function $(n){return n._lsibid=null,n._rsibid=null,n._pid=null,n}function J(n){let t=n[0]._depth;return n=n.map(n=>(n._depth=n._depth-t,n))}function k(n,t){let i=T(n,t),r=e.afindi("_id",i[0]._id,t);return[r,r+i.length-1]}function H(n,t){let i,r=S(n,t);if(null!==r){let[l,u]=k(r,t);i=t.slice(l,u+1);let d=p(r,t);null===d?n=_(n):(n._fstchid=d._id,d._pid=n._id,d=q(d)),i=J(i),r=$(r),t=e.secdel(l,u,t)}else i=[];return[t,i]}function W(n,t){let i=F(h(n,t),t);return null===i?[[],t]:H(i,t)}function z(n,t){let i,r=p(n,t);if(null===r)i=[];else{let[l,u]=k(r,t);i=t.slice(l,u+1);let d=p(r,t);null===d?n._rsibid=null:(n._rsibid=d._id,d._lsibid=n._id),i=J(i),r=$(r),t=e.secdel(l,u,t)}return[t,i]}function U(n,t){let i;if(r(n))i=[t,[]];else if(l(n)){i=H(F(n,t),t)}else{i=z(b(n,t),t)}return i}n.exports={isRoot:r,isFstch:function(n){return null===n._lsibid&&null!==n._pid},isFstsib:l,isFstchButNotLstch:function(n){return null!==n._rsibid&&void 0!==n._rsibid&&null===n._lsibid&&null!==n._pid},isFstsibButNotLstsib:function(n){return null!==n._rsibid&&void 0!==n._rsibid&&null===n._lsibid},isLstch:function(n){return null===n._rsibid&&null!==n._pid},isLstsib:u,isLstchButNotFstch:function(n){return null===n._rsibid&&null!==n._lsibid&&void 0!==n._lsibid&&null!==n._pid},isLstsibButNotFstsib:function(n){return null===n._rsibid&&null!==n._lsibid&&void 0!==n._lsibid},isFstchAndLstch:function(n){return null===n._lsibid&&null===n._rsibid&&null!==n._pid},isFstsibAndLstsib:function(n){return null===n._lsibid&&null===n._rsibid},isMidch:function(n){return null!==n._lsibid&&void 0!==n._lsibid&&null!==n._rsibid&&void 0!==n._rsibid&&null!==n._pid},isMidsib:function(n){return null!==n._lsibid&&void 0!==n._lsibid&&null!==n._rsibid&&void 0!==n._rsibid},isLeaf:d,isNonLeaf:s,isUndefined:function(n){return void 0===n._fstchid},havingLsib:function(n){return null!==n._lsibid&&void 0!==n._lsibid},havingRsib:o,idgetnd:f,eq:function(n,t){for(let i in n){if(!1===(n[i]===t[i]))return!1}return!0},newIdPool:function(){return{currid:0}},newNode:c,newRoot:function(n){let t=c(n);return t._lsibid=null,t._rsibid=null,t._pid=null,t._depth=0,t},newFstsib:function(n){let t=c(n);return t._lsibid=null,t},newMidsib:function(n){return c(n)},newLstsib:function(n){let t=c(n);return t._rsibid=null,t},leafize:_,newLeafFstsib:function(n){let t=c(n);return t._lsibid=null,t._fstchid=null,t},newLeafMidsib:function(n){let t=c(n);return t._fstchid=null,t},newLeafLstsib:function(n){let t=c(n);return t._rsibid=null,t._fstchid=null,t},getLsib:b,getRsib:p,getPrecedingSibs:a,getFollowingSibs:g,getFstsib:h,getLstsib:v,getAllSibs:y,getSib:function(n,t,i){return y(t,i)[n]},getFstch:S,getChild:A,getChildren:m,getLstch:L,getParent:F,getAllAnces:O,getAllAncesIncludingSelf:x,getAnces:R,getAncesIncludingSelf:function(n,t,i){return 0===n?t:R(n-1,t,i)},getFstAncesHavingRsibIncludingSelf:w,calcDepth:N,getDepth:function(n,t){return void 0===n._depth?N(n,t):n._depth},getSibseq:function(n,t){return a(n,t).length},getBreadth:function(n,t){let i=a(F(n,t),t).map(n=>m(n,t)),e=Array.prototype.concat(...i),r=a(n,t);return e.length+r.length},getRsibOfFstAncesHavingRsibIncludingSelf:j,getRdmost:D,sdfsNext:I,sdfsPrev:function(n,t){let i,e=b(n,t);return i=null===e?F(n,t):D(e,t)},isAncesOf:M,isDesOf:function(n,t,i){return M(t,n,i)},isAncesOfIncludingSelf:P,isDesOfIncludingSelf:function(n,t,i){return P(t,n,i)},getAllDesesIncludingSelf:T,getAllDeses:function(n,t){let i=T(n,t);return i.shift(),i},getFlatWidth:function(n,t){return T(n,t).filter(d).length},getFlatOffset:function(n,t){let i=t.findIndex(t=>t._id===n._id),e=t.slice(0,i);return(e=e.filter(d)).length},addLsib:function(n,t,i){return r(n)?console.log("rnd  can NOT addLsib"):t=l(n)?function(n,t,i){let[r,l]=C(i);r=E(n._depth,r);let u=F(n,t);u._fstchid=l._id,l._pid=u._id,n._pid=null,l._lsibid=null,l._rsibid=n._id,n._lsibid=l._id;let d=e.afindi("_id",n._id,t);return t=e.insertl(d,r,t)}(n,t,i):function(n,t,i){let[r,l]=C(i);r=E(n._depth,r);let u=b(n,t);u._rsibid=l._id,l._lsibid=u._id,n._lsibid=l._id,l._rsibid=n._id,l=B(l);let d=e.afindi("_id",n._id,t);return t=e.insertl(d,r,t)}(n,t,i),t},addRsib:function(n,t,i){return r(n)?(console.log("rnd  can NOT addRsib"),t):t=u(n)?function(n,t,i){let[r,l]=C(i);r=E(n._depth,r),l._lsibid=n._id,n._rsibid=l._id,l=B(l);let u=ndfunc.getRdmost(n,t),d=e.afindi("_id",u._id,t);return t=e.insertl(d+1,r,t)}(n,t,i):function(n,t,i){let[r,l]=C(i);r=E(n._depth,r);let u=p(n,t);u._lsibid=l._id,l._rsibid=u._id,n._rsibid=l._id,l._lsibid=n._id,l._rsibid=null,l=B(l);let d=ndfunc.getRdmost(n,t),s=e.afindi("_id",d._id,t);return t=e.insertl(s+1,r,t)}(n,t,i)},addFstch:function(n,t,i){let[r,l]=C(i);if(r=E(n._depth+1,r),s(n))return console.log("nonleaf  can NOT addFstch"),t;n._fstchid=l._id,l._pid=n._id,l=q(l);let u=e.afindi("_id",n._id,t);return t=e.insertl(u+1,r,t)},getDesFstiAndLsti:k,rmFstch:H,rmFstsib:W,rmRsib:z,rmLstsib:function(n,t){let i=b(v(n,t),t);return null===i?W(n,t):z(i,t)},rmLsib:function(n,t){let i,r=b(n,t);if(null===r)i=[];else{let[l,u]=k(r,t);i=t.slice(l,u+1);let d=b(r,t);if(null===d){n._lsibid=null,n._pid=r._pid,F(n,t)._fstchid=r._id}else n._lsibid=d._id,d._rsibid=n._id;i=J(i),r=$(r),t=e.secdel(l,u,t)}return[t,i]},rmSelf:U,rmChild:function(n,t,i){let e=A(n,t,i);return null===e?[i,[]]:U(e,i)}}}])});
//# sourceMappingURL=nvdmatjs.js.map