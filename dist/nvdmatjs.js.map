{"version":3,"sources":["webpack://NVDMATJS/webpack/universalModuleDefinition","webpack://NVDMATJS/webpack/bootstrap","webpack://NVDMATJS/./nvdmatjs.js","webpack://NVDMATJS/./ndfunc.js","webpack://NVDMATJS/./cmmn-utils.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ndfunc","cmmn","isRoot","nd","_pid","isFstsib","_lsibid","isLstsib","_rsibid","isLeaf","_fstchid","isNonLeaf","undefined","havingRsib","idgetnd","id","sdfsel","afindv","newNode","idpool","currid","leafize","getLsib","getRsib","getPrecedingSibs","preceding","push","reverse","getFollowingSibs","following","getFstsib","length","getLstsib","lstsib","getlstv","getAllSibs","Array","concat","getFstch","getChild","which","child","rsib","getChildren","children","fstch","getLstch","lstch","getParent","getAllAnces","ances","getAllAncesIncludingSelf","getAnces","getFstAncesHavingRsibIncludingSelf","cond","calcDepth","depth","getRsibOfFstAncesHavingRsibIncludingSelf","getRdmost","prev","rdmost","sdfsNext","next","isAncesOf","nd0","nd1","afindi","_id","isAncesOfIncludingSelf","getAllDesesIncludingSelf","deses","_updateDepth","ndepth","incr","_depth","map","_nonfstsibize","_fstsibize","_arg2SubAndNrnd","arg","subsdfsel","nrnd","isArray","_rootize","_deUpdateDepth","decr","getDesFstiAndLsti","fsti","rmFstch","lsti","slice","sndch","secdel","rmFstsib","rmRsib","rrsib","rmSelf","rslt","isFstch","isFstchButNotLstch","isFstsibButNotLstsib","isLstch","isLstchButNotFstch","isLstsibButNotFstsib","isFstchAndLstch","isFstsibAndLstsib","isMidch","isMidsib","isUndefined","havingLsib","eq","k","newIdPool","newRoot","newFstsib","newMidsib","newLstsib","newLeafFstsib","newLeafMidsib","newLeafLstsib","getSib","getAncesIncludingSelf","getDepth","getSibseq","getBreadth","childrens","nds","sdfsPrev","lsib","isDesOf","isDesOfIncludingSelf","getAllDeses","shift","getFlatWidth","filter","getFlatOffset","index","findIndex","pre","addLsib","console","log","insertl","_fstsibPrependLsib","_insertLsib","addRsib","_lstsibAppendRsib","_insertRsib","addFstch","rmLstsib","sndlstsib","rmLsib","llsib","rmChild","getlsti","simpleCompare","a","b","arr","isDate","toString","isRegExp","isWindow","obj","window","isScope","$evalAsync","$watch","isFunction","isDefined","createMap","deepcopyJSON","JSON","parse","stringify","v","ele","find","getlsta","splice","insert","subl","norecurEq","l0","l1","equals","o1","o2","keySet","t1","getTime","charAt"],"mappings":"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","file":"nvdmatjs.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NVDMATJS\"] = factory();\n\telse\n\t\troot[\"NVDMATJS\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const ndfunc = require(\"./ndfunc.js\")\n\n\nmodule.exports = {\n    ndfunc : ndfunc,\n}\n","const cmmn = require(\"./cmmn-utils.js\")\n\n\n/*\n    _fstchid                              fst-child-id\n    _lsibid                               lsib-id\n    _rsibid                               rsib-id\n    _id                                   unique-number-id-based-on-add\n    _pid                                  parent-id\n    rid                                   root-id\n    getLsib                               get-left-sibling\n    getRsib                               get-right-sibling\n    getPrecedingSibs                      get-preceding-siblings\n    getFollowingSibs                      get-following-siblings\n    fstsib                                fst-sibling\n    midsib                                middle-sibling\n    lstsib                                lst-sibling\n    sib                                   sibling\n    sibs                                  siblings\n    getFstsib                             get-first-sibling-including-self\n    getLstsib                             get-last-sibling-including-self\n    getSib                                get-sibling-including-self\n    getAllSibs                            get-all-siblings-including-self\n    fstch                                 first-child\n    lstch                                 last-child\n    child                                 child\n    getFstch                              get-first-child\n    getLstch                              get-last-child\n    getChild                              get-child\n    getChildren                           get-children\n    p                                     parent\n    ances                                 ancestor\n    ancestors                             ancestors\n    getParent                             get-parent\n    getAllAnces                           get-all-ancestors\n    getAllAncesIncludingSelf              get-all-ancestors-including-self\n    getAnces                              get-ancestor\n    getAncesIncludingSelf                 get-ancestor-including-self\n    getFstAncesHavingRsibIncludingSelf    get-first-ancestor-having-rsib-including-self\n    getRdmost                             get-rdmost\n    getAllDeses                           get-all-descendants\n    getAllDesesIncludingSelf              get-all-descendants-including-self\n*/\n\n////\nfunction isRoot(nd) {\n    return(nd._pid === null)\n}\n\nfunction isFstch(nd) {\n    return(\n        nd._lsibid === null &&\n        nd._pid !== null\n    )\n}\n\nfunction isFstsib(nd) {\n    return(\n        nd._lsibid === null\n    )\n}\n\n\nfunction isFstchButNotLstch(nd) {\n    return(\n        nd._rsibid !== null && \n        nd._rsibid !== undefined && \n        nd._lsibid === null &&\n        nd._pid !== null\n    )\n}\n\n\n\nfunction isFstsibButNotLstsib(nd) {\n    return(\n        nd._rsibid !== null &&\n        nd._rsibid !== undefined &&\n        nd._lsibid === null\n    )\n}\n\n\nfunction isLstch(nd) {\n    return(\n        nd._rsibid === null &&\n        nd._pid !== null\n    )\n}\n\nfunction isLstsib(nd) {\n    return(\n        nd._rsibid === null \n    )\n}\n\n\nfunction isLstchButNotFstch(nd) {\n    return(\n        nd._rsibid === null && \n        nd._lsibid !== null &&\n        nd._lsibid !== undefined &&\n        nd._pid !== null\n    )\n}\n\n\nfunction isLstsibButNotFstsib(nd) {\n    return(\n        nd._rsibid === null &&\n        nd._lsibid !== null &&\n        nd._lsibid !== undefined\n    )\n}\n\n\nfunction isFstchAndLstch(nd) {\n    return( \n        nd._lsibid === null && \n        nd._rsibid === null &&\n        nd._pid !== null\n    )\n}\n\nfunction isFstsibAndLstsib(nd) {\n    return( \n        nd._lsibid === null && \n        nd._rsibid === null\n    )\n}\n\n\nfunction isMidch(nd) {\n    return( \n        nd._lsibid !== null && \n        nd._lsibid !== undefined &&\n        nd._rsibid !== null &&\n        nd._rsibid !== undefined &&\n        nd._pid !== null\n    )\n}\n\n\nfunction isMidsib(nd) {\n    return(\n        nd._lsibid !== null &&\n        nd._lsibid !== undefined &&\n        nd._rsibid !== null &&\n        nd._rsibid !== undefined \n    )\n}\n\n\nfunction isLeaf(nd) {\n    return(nd._fstchid === null)\n}\n\nfunction isNonLeaf(nd) {\n    return(\n        nd._fstchid !== null &&\n        nd._fstchid !== undefined\n    )\n}\n\nfunction isUndefined(nd) {\n    return(nd._fstchid === undefined)\n}\n\n////\nfunction havingLsib(nd) {\n    return(\n        nd._lsibid !== null && \n        nd._lsibid !== undefined\n    )\n}\n\nfunction havingRsib(nd) {\n    return(\n        nd._rsibid !== null && \n        nd._rsibid !== undefined\n    )\n}\n\n////\n\nfunction idgetnd(id,sdfsel) {\n    /*\n        id could be a number or null\n    */\n    let nd = (id === null) ? null : cmmn.afindv('_id',id,sdfsel)\n    return(nd)\n}\n\nfunction eq(nd0,nd1) {\n    let rslt = true\n    for(let k in nd0) {\n        let cond = (nd0[k] === nd1[k])\n        if(cond === false) {\n            return(false)\n        }\n    }\n    return(rslt)\n}\n\n////new\n\n\nfunction newIdPool() {\n    let d = {\n        currid:0\n    }\n    return(d)\n}\n\nfunction newNode(idpool) {\n    /*\n        var idpool = newIdPool()\n        var nd = newNode(idpool)\n    */\n    let d = {\n        \"_fstchid\":undefined,\n        \"_lsibid\":undefined,\n        \"_rsibid\":undefined,\n        \"_id\":idpool.currid,\n        \"_pid\":undefined,\n        \"_depth\":0,\n    }\n    idpool.currid = idpool.currid + 1\n    return(d)\n}\n\nfunction newRoot(idpool) {\n    let d = newNode(idpool)\n    d._lsibid = null\n    d._rsibid = null\n    d._pid = null\n    d._depth = 0\n    return(d)\n}\n\n\nfunction newFstsib(idpool) {\n    let d = newNode(idpool)\n    d._lsibid = null\n    return(d)\n}\n\nfunction newMidsib(idpool) {\n    let d = newNode(idpool)\n    return(d)\n}\n\nfunction newLstsib(idpool) {\n    let d = newNode(idpool)\n    d._rsibid = null\n    return(d)\n}\n\nfunction leafize(nd) {\n    nd._fstchid = null\n    return(nd)\n}\n\nfunction newLeafFstsib(idpool) {\n    let d = newNode(idpool)\n    d._lsibid = null\n    d._fstchid = null\n    return(d)\n}\n\nfunction newLeafMidsib(idpool) {\n    let d = newNode(idpool)\n    d._fstchid = null\n    return(d)\n}\n\nfunction newLeafLstsib(idpool) {\n    let d = newNode(idpool)\n    d._rsibid = null\n    d._fstchid = null\n    return(d)\n}\n\n////sib\n\nfunction getLsib(nd,sdfsel) {\n    let lsib = idgetnd(nd._lsibid,sdfsel)\n    return(lsib)\n}\n\nfunction getRsib(nd,sdfsel) {\n    let rsib = idgetnd(nd._rsibid,sdfsel)\n    return(rsib)\n}\n\nfunction getPrecedingSibs(nd,sdfsel) {\n    let preceding = []\n    while(nd !== null) {\n        nd = getLsib(nd,sdfsel)\n        if(nd === null) {\n            break\n        } else {\n            preceding.push(nd)\n        }\n    }\n    preceding.reverse()\n    return(preceding)\n}\n\nfunction getFollowingSibs(nd,sdfsel) {\n    let following = []\n    while(nd !== null) {\n        nd = getRsib(nd,sdfsel)\n        if(nd === null) {\n            break\n        } else {\n            following.push(nd)\n        }\n    }\n    return(following)\n}\n\nfunction getFstsib(nd,sdfsel) {\n    /*\n        including-self\n    */\n    let preceding = getPrecedingSibs(nd,sdfsel)\n    let fstsib = (preceding.length === 0) ? nd : preceding[0]\n    return(fstsib)\n}\n\nfunction getLstsib(nd,sdfsel) {\n    let following = getFollowingSibs(nd,sdfsel)\n    let lstsib = (following.length === 0) ? nd : cmmn.getlstv(following)\n    lstsib = (lstsib === undefined)? null:lstsib\n    return(lstsib)\n}\n\nfunction getAllSibs(nd,sdfsel) {\n    /*\n        including-self\n    */\n    let preceding = getPrecedingSibs(nd,sdfsel)\n    let following = getFollowingSibs(nd,sdfsel)\n    let sibs = Array.prototype.concat(preceding,[nd],following)\n    return(sibs)\n}\n\nfunction getSib(which,nd,sdfsel) {\n    /*\n        including-self\n    */\n    let sibs = getAllSibs(nd,sdfsel)\n    return(sibs[which])\n}\n\n\n////child,children\n\nfunction getFstch(nd,sdfsel) {\n    /*\n        get-first-child\n    */\n    let fstch = idgetnd(nd._fstchid,sdfsel)\n    return(fstch)\n}\n\nfunction getChild(which,nd,sdfsel) {\n    /*\n        get-child-by-index\n    */\n    if(isLeaf(nd)){\n        return(null)\n    } else {\n        let c = 0\n        let child = getFstch(nd,sdfsel)\n        let rsib = getRsib(child,sdfsel)\n        while(c<which) {\n            if(rsib !== null) {\n                child = rsib\n                rsib = getRsib(child,sdfsel)\n            } else {\n                break\n            }\n            c = c + 1\n        }\n        child = (c < which) ? null : child\n        return(child)\n    }\n}\n\nfunction getChildren(nd,sdfsel) {\n    /*\n        get-children\n    */\n    let children = []\n    if(isLeaf(nd)){\n        \n    } else {\n        let fstch = getFstch(nd,sdfsel)\n        children.push(fstch)\n        children = children.concat(getFollowingSibs(fstch,sdfsel))\n    }\n    return(children)\n}\n\nfunction getLstch(nd,sdfsel) {\n    /*\n        get-last-child\n    */\n    let children = getChildren(nd,sdfsel)\n    let lstch = cmmn.getlstv(children)\n    lstch = (lstch === undefined)? null:lstch\n    return(lstch)\n}\n\n////parent,ances,ances-including-self\n\nfunction getParent(nd,sdfsel) {\n    let fstsib = getFstsib(nd,sdfsel)\n    let p = idgetnd(fstsib._pid,sdfsel)\n    return(p)\n}\n\nfunction getAllAnces(nd,sdfsel) {\n    let ances = []\n    let p = getParent(nd,sdfsel)\n    while(p !== null){\n        ances.push(p)\n        p = getParent(p,sdfsel)\n    }\n    return(ances)\n}\n\n\nfunction getAllAncesIncludingSelf(nd,sdfsel) {\n    let ances = getAllAnces(nd,sdfsel)\n    return(Array.prototype.concat([nd],ances))\n}\n\nfunction getAnces(which,nd,sdfsel){\n    let p = getParent(nd,sdfsel)\n    let c = 0\n    while(p !== null){\n        if(c<which) {\n            p = getParent(p,sdfsel)\n            c = c + 1\n        } else {\n            break\n        }\n    }\n    return(p)\n}\n\nfunction getAncesIncludingSelf(which,nd,sdfsel){\n    if(which === 0) {\n        return(nd)\n    } else {\n        return(getAnces(which-1,nd,sdfsel))\n    }\n}\n\nfunction getFstAncesHavingRsibIncludingSelf(nd,sdfsel) {\n    let cond = havingRsib(nd)\n    while(!cond) {\n        nd = getParent(nd,sdfsel)\n        if(nd === null) {\n            break\n        } else {\n            cond = havingRsib(nd)\n        }\n    }\n    return(nd)\n}\n\n\n////\n\nfunction calcDepth(nd,sdfsel) {\n    let depth = 0\n    let p = getParent(nd,sdfsel)\n    while(p !== null){\n        p = getParent(p,sdfsel)\n        depth = depth + 1\n    }\n    return(depth)\n}\n\nfunction getDepth(nd,sdfsel) {\n    let depth = (nd._depth === undefined) ? calcDepth(nd,sdfsel) : nd._depth\n    return(depth)\n}\n\nfunction getSibseq(nd,sdfsel) {\n    let preceding = getPrecedingSibs(nd,sdfsel)\n    return(preceding.length)\n}\n\nfunction getBreadth(nd,sdfsel) {\n    let p = getParent(nd,sdfsel)\n    let ppreceding = getPrecedingSibs(p,sdfsel)\n    let childrens = ppreceding.map((nd)=>(getChildren(nd,sdfsel)))\n    let nds = Array.prototype.concat(...childrens)\n    let preceding = getPrecedingSibs(nd,sdfsel)\n    return(nds.length+preceding.length)\n}\n\n\n////\n\nfunction getRsibOfFstAncesHavingRsibIncludingSelf(nd,sdfsel) {\n    let ances = getFstAncesHavingRsibIncludingSelf(nd,sdfsel)\n    if(ances === null) {\n        return(null)\n    } else {\n        let rsib = getRsib(ances,sdfsel)\n        return(rsib)\n    }\n}\n\n\nfunction getRdmost(nd,sdfsel) {\n    let prev = nd\n    let rdmost = getLstch(prev,sdfsel)\n    while(rdmost !== null) {\n        prev = rdmost\n        rdmost = getLstch(prev,sdfsel)\n    }\n    return(prev)\n}\n\nfunction sdfsNext(nd,sdfsel) {\n    let next;\n    let fstch = getFstch(nd,sdfsel)\n    if(fstch === null) {\n        next = getRsibOfFstAncesHavingRsibIncludingSelf(nd,sdfsel)\n    } else {\n        next = fstch\n    }\n    return(next)\n}\n\nfunction sdfsPrev(nd,sdfsel) {\n    let prev;\n    let lsib = getLsib(nd,sdfsel)\n    if(lsib === null) {\n        prev = getParent(nd,sdfsel)\n    } else {\n        prev = getRdmost(lsib,sdfsel)\n    }\n    return(prev)\n}\n\n////\nfunction isAncesOf(nd0,nd1,sdfsel) {\n    let ances = getAllAnces(nd1,sdfsel)\n    let index = cmmn.afindi('_id',nd0._id,ances)\n    return(index>=0)\n}\n\nfunction isDesOf(nd0,nd1,sdfsel) {\n    return(isAncesOf(nd1,nd0,sdfsel))\n}\n\nfunction isAncesOfIncludingSelf(nd0,nd1,sdfsel) {\n    let ances = getAllAncesIncludingSelf(nd1,sdfsel)\n    let index = cmmn.afindi('_id',nd0._id,ances)\n    return(index>=0)\n}\n\nfunction isDesOfIncludingSelf(nd0,nd1,sdfsel) {\n    return(isAncesOfIncludingSelf(nd1,nd0,sdfsel))\n}\n\n////descendants\n\nfunction getAllDesesIncludingSelf(nd,sdfsel) {\n    let deses = []\n    let root = nd\n    while(nd!==null && isAncesOfIncludingSelf(root,nd,sdfsel)) {\n        deses.push(nd)\n        nd  = sdfsNext(nd,sdfsel)\n    }\n    return(deses)\n}\n\nfunction getAllDeses(nd,sdfsel) {\n    let deses = getAllDesesIncludingSelf(nd,sdfsel)\n    deses.shift()\n    return(deses)\n}\n\n\nfunction getFlatWidth(nd,sdfsel) {\n    let deses=getAllDesesIncludingSelf(nd,sdfsel)\n    return(deses.filter(isLeaf).length)\n}\n\nfunction getFlatOffset(nd,sdfsel) {\n    let index = sdfsel.findIndex(r=>(r._id === nd._id))\n    let pre = sdfsel.slice(0,index)\n    pre = pre.filter(isLeaf)\n    return(pre.length)\n}\n\n\n/*\n *\n */\n\n\nfunction _updateDepth(ndepth,sdfsel) {\n    let incr = ndepth - sdfsel[0]._depth\n    sdfsel = sdfsel.map(r=>{\n        r._depth = r._depth + incr\n        return(r)\n    })\n    return(sdfsel)\n}\n\n\nfunction _nonfstsibize(nd) {\n    nd._pid = undefined\n    return(nd)\n}\n\nfunction _fstsibize(nd) {\n    nd._lsibid = null\n    return(nd)\n}\n\nfunction _lstsibize(nd) {\n    nd._pid = undefined\n    nd._rsibid = null\n    return(nd)\n}\n\nfunction _arg2SubAndNrnd(arg) {\n    let subsdfsel;\n    let nrnd;\n    if(cmmn.isArray(arg)) {\n        subsdfsel = arg\n        nrnd = subsdfsel[0]\n    } else {\n        subsdfsel = [arg]\n        nrnd = arg\n    }\n    return([subsdfsel,nrnd])\n}\n\nfunction _insertLsib(nd,sdfsel,arg) {\n    let [subsdfsel,nrnd] = _arg2SubAndNrnd(arg);\n    let ndepth = nd._depth\n    subsdfsel = _updateDepth(ndepth,subsdfsel)\n    let lsib = getLsib(nd,sdfsel)\n    lsib._rsibid = nrnd._id\n    nrnd._lsibid = lsib._id\n    nd._lsibid = nrnd._id\n    nrnd._rsibid = nd._id\n    nrnd = _nonfstsibize(nrnd)\n    let index = cmmn.afindi('_id',nd._id,sdfsel)\n    sdfsel = cmmn.insertl(index,subsdfsel,sdfsel)\n    return(sdfsel)\n}\n\nfunction _fstsibPrependLsib(nd,sdfsel,arg) {\n    let [subsdfsel,nrnd] = _arg2SubAndNrnd(arg)\n    let ndepth = nd._depth\n    subsdfsel = _updateDepth(ndepth,subsdfsel)\n    let p = getParent(nd,sdfsel)\n    p._fstchid = nrnd._id\n    nrnd._pid = p._id\n    nd._pid = undefined\n    nrnd._lsibid = null\n    nrnd._rsibid = nd._id\n    nd._lsibid = nrnd._id\n    let index = cmmn.afindi('_id',nd._id,sdfsel)\n    sdfsel = cmmn.insertl(index,subsdfsel,sdfsel)\n    return(sdfsel)\n}\n\n\nfunction addLsib(nd,sdfsel,arg) {\n    /*\n        rnd  can NOT addLsib\n        fstch \n        nonfstch\n        return([nd,nnd])\n    */\n    if(isRoot(nd)) {\n        console.log(\"rnd  can NOT addLsib\")\n    } else {\n        if(isFstsib(nd))  {\n            sdfsel = _fstsibPrependLsib(nd,sdfsel,arg)\n        } else {\n            sdfsel = _insertLsib(nd,sdfsel,arg)\n        }\n    }\n    return(sdfsel)\n}\n\nfunction _lstsibAppendRsib(nd,sdfsel,arg) {\n    let [subsdfsel,nrnd] = _arg2SubAndNrnd(arg)\n    let ndepth = nd._depth\n    subsdfsel = _updateDepth(ndepth,subsdfsel)\n    nrnd._lsibid = nd._id\n    nd._rsibid = nrnd._id\n    nrnd = _nonfstsibize(nrnd)\n    let rdmost = getRdmost(nd,sdfsel)\n    let index = cmmn.afindi('_id',rdmost._id,sdfsel)\n    sdfsel = cmmn.insertl(index+1,subsdfsel,sdfsel)\n    return(sdfsel)\n}\n\nfunction _insertRsib(nd,sdfsel,arg) {\n    let [subsdfsel,nrnd] = _arg2SubAndNrnd(arg)\n    let ndepth = nd._depth\n    subsdfsel = _updateDepth(ndepth,subsdfsel)\n    let rsib = getRsib(nd,sdfsel)\n    rsib._lsibid = nrnd._id\n    nrnd._rsibid = rsib._id\n    nd._rsibid = nrnd._id\n    nrnd._lsibid = nd._id\n    nrnd._rsibid = null\n    nrnd = _nonfstsibize(nrnd)\n    let rdmost = getRdmost(nd,sdfsel)\n    let index = cmmn.afindi('_id',rdmost._id,sdfsel)\n    sdfsel = cmmn.insertl(index+1,subsdfsel,sdfsel)\n    return(sdfsel)\n}\n\n\nfunction addRsib(nd,sdfsel,arg) {\n    if(isRoot(nd)) {\n        console.log(\"rnd  can NOT addRsib\")\n        return(sdfsel)\n    } else {\n        if(isLstsib(nd))  {\n            sdfsel = _lstsibAppendRsib(nd,sdfsel,arg)\n        } else {\n            sdfsel = _insertRsib(nd,sdfsel,arg)\n        }\n    }\n    return(sdfsel)\n}\n\n\n\n////\n\nfunction addFstch(nd,sdfsel,arg) {\n    let [subsdfsel,nrnd] = _arg2SubAndNrnd(arg)\n    let ndepth = nd._depth + 1\n    subsdfsel = _updateDepth(ndepth,subsdfsel)\n    if(isNonLeaf(nd)) {\n        console.log(\"nonleaf  can NOT addFstch\")\n        return(sdfsel)\n    } else {\n        nd._fstchid = nrnd._id\n        nrnd._pid = nd._id\n        nrnd = _fstsibize(nrnd)\n    }\n    let index = cmmn.afindi('_id',nd._id,sdfsel)\n    sdfsel = cmmn.insertl(index+1,subsdfsel,sdfsel)\n    return(sdfsel)\n}\n\n\nfunction _rootize(nd) {\n    nd._lsibid = null\n    nd._rsibid = null\n    nd._pid = null\n    return(nd)\n}\n\nfunction _deUpdateDepth(sdfsel) {\n    let decr = sdfsel[0]._depth\n    sdfsel = sdfsel.map(r=>{\n        r._depth = r._depth - decr\n        return(r)\n    })\n    return(sdfsel)\n}\n\nfunction getDesFstiAndLsti(nd,sdfsel) {\n    let subsdfsel = getAllDesesIncludingSelf(nd,sdfsel)\n    let fsti = cmmn.afindi('_id',subsdfsel[0]._id,sdfsel)\n    let lsti = fsti + subsdfsel.length - 1\n    return([fsti,lsti])\n}\n\nfunction rmFstch(nd,sdfsel) {\n    let subsdfsel;\n    let fstch = getFstch(nd,sdfsel)\n    if(fstch !== null) {\n        let [fsti,lsti] = getDesFstiAndLsti(fstch,sdfsel)\n        subsdfsel = sdfsel.slice(fsti,lsti+1)\n        let sndch = getRsib(fstch,sdfsel)\n        if(sndch === null) {\n            //only-one-child\n            nd = leafize(nd)\n        } else {\n            nd._fstchid = sndch._id\n            sndch._pid = nd._id\n            sndch = _fstsibize(sndch)\n        }\n        subsdfsel = _deUpdateDepth(subsdfsel)\n        fstch = _rootize(fstch)\n        sdfsel = cmmn.secdel(fsti,lsti,sdfsel)\n    } else {\n        subsdfsel = []\n    }\n    return([sdfsel,subsdfsel])\n}\n\n\nfunction rmFstsib(nd,sdfsel) {\n    let fstsib = getFstsib(nd,sdfsel)\n    let p = getParent(fstsib,sdfsel)\n    if(p === null) {\n        return([[],sdfsel])\n    } else {\n        return(rmFstch(p,sdfsel))\n    }\n}\n\nfunction rmRsib(nd,sdfsel) {\n    let subsdfsel;\n    let rsib = getRsib(nd,sdfsel)\n    if(rsib === null){\n        subsdfsel = []\n    } else {\n        let [fsti,lsti] = getDesFstiAndLsti(rsib,sdfsel)\n        subsdfsel = sdfsel.slice(fsti,lsti+1)\n        let rrsib = getRsib(rsib,sdfsel)\n        if(rrsib === null) {\n            nd._rsibid = null \n        } else {\n            nd._rsibid = rrsib._id\n            rrsib._lsibid = nd._id\n        }\n        subsdfsel = _deUpdateDepth(subsdfsel)\n        rsib = _rootize(rsib)\n        sdfsel = cmmn.secdel(fsti,lsti,sdfsel)\n    }\n    return([sdfsel,subsdfsel])\n}\n\n\nfunction rmLstsib(nd,sdfsel) {\n    let lstsib = getLstsib(nd,sdfsel)\n    let sndlstsib = getLsib(lstsib,sdfsel)\n    if(sndlstsib === null) {\n        return(rmFstsib(nd,sdfsel))\n    } else { \n        return(rmRsib(sndlstsib,sdfsel))\n    }\n}\n\nfunction rmLsib(nd,sdfsel) {\n    let subsdfsel;\n    let lsib = getLsib(nd,sdfsel)\n    if(lsib === null){\n        subsdfsel = []\n    } else {\n        let [fsti,lsti] = getDesFstiAndLsti(lsib,sdfsel)\n        subsdfsel = sdfsel.slice(fsti,lsti+1)\n        let llsib = getLsib(lsib,sdfsel)\n        if(llsib === null) {\n            nd._lsibid = null\n            nd._pid = lsib._pid\n            let p = getParent(nd,sdfsel)\n            p._fstchid = lsib._id\n        } else {\n            nd._lsibid = llsib._id\n            llsib._rsibid = nd._id\n        }\n        subsdfsel = _deUpdateDepth(subsdfsel)\n        lsib = _rootize(lsib)\n        sdfsel = cmmn.secdel(fsti,lsti,sdfsel)\n    }\n    return([sdfsel,subsdfsel])\n}\n\n\n////\n////\n////\n\nfunction rmSelf(nd,sdfsel) {\n    let rslt;\n    if(isRoot(nd)) {\n        rslt = [sdfsel,[]]\n    } else if(isFstsib(nd)) {\n        let p = getParent(nd,sdfsel)\n        rslt = rmFstch(p,sdfsel)\n    } else {\n        let lsib = getLsib(nd,sdfsel)\n        rslt =  rmRsib(lsib,sdfsel)\n    }\n    return(rslt)\n}\n\nfunction rmChild(which,nd,sdfsel)  {\n    let child = getChild(which,nd,sdfsel)\n    if(child === null) {\n        return([sdfsel,[]])\n    } else {\n        return(rmSelf(child,sdfsel))\n    }\n}\n\nmodule.exports = {\n    isRoot,\n    isFstch,\n    isFstsib,\n    isFstchButNotLstch,\n    isFstsibButNotLstsib,\n    isLstch,\n    isLstsib,\n    isLstchButNotFstch,\n    isLstsibButNotFstsib,\n    isFstchAndLstch,\n    isFstsibAndLstsib,\n    isMidch,\n    isMidsib,\n    isLeaf,\n    isNonLeaf,\n    isUndefined,\n    havingLsib,\n    havingRsib,\n    idgetnd,\n    eq,\n    newIdPool,\n    newNode,\n    newRoot,\n    newFstsib,\n    newMidsib,\n    newLstsib,\n    leafize,\n    newLeafFstsib,\n    newLeafMidsib,\n    newLeafLstsib,\n    getLsib,\n    getRsib,\n    getPrecedingSibs,\n    getFollowingSibs,\n    getFstsib,\n    getLstsib,\n    getAllSibs,\n    getSib,\n    getFstch,\n    getChild,\n    getChildren,\n    getLstch,\n    getParent,\n    getAllAnces,\n    getAllAncesIncludingSelf,\n    getAnces,\n    getAncesIncludingSelf,\n    getFstAncesHavingRsibIncludingSelf,\n    calcDepth,\n    getDepth,\n    getSibseq,\n    getBreadth,\n    getRsibOfFstAncesHavingRsibIncludingSelf,\n    getRdmost,\n    sdfsNext,\n    sdfsPrev,\n    isAncesOf,\n    isDesOf,\n    isAncesOfIncludingSelf,\n    isDesOfIncludingSelf,\n    getAllDesesIncludingSelf,\n    getAllDeses,\n    getFlatWidth,\n    getFlatOffset,\n    addLsib,\n    addRsib,\n    addFstch,\n    getDesFstiAndLsti,\n    rmFstch,\n    rmFstsib,\n    rmRsib,\n    rmLstsib,\n    rmLsib,\n    rmSelf,\n    rmChild\n}\n\n","\nfunction deepcopyJSON(o) {\n    return(JSON.parse(JSON.stringify(o)))\n}\n\n/*\n    a    attr\n    i    index\n    v    value\n*/\n\nfunction afindi(a,v,l) {\n    let i = l.findIndex(ele=>(ele[a]===v))\n    return(i)\n}\n\nfunction afindv(a,v,l) {\n    let r = l.find(ele=>(ele[a]===v))\n    return(r)\n}\n\n\nfunction getlsti(l) {\n    return(l.length -1)\n}\n\nfunction getlstv(l) {\n    return(l[getlsti(l)])\n}\n\nfunction getlsta(a,l) {\n    return(getlstv(l)[a])\n}\n\nfunction secdel(fsti,lsti,l) {\n    let c = lsti - fsti + 1 \n    l.splice(fsti,c)\n    return(l)\n}\n\nfunction insert(i,v,l) {\n    l.splice(i,0,v)\n    return(l)\n}\n\nfunction insertl(i,subl,l) {\n     l.splice(i,0,...subl)\n     return(l)\n}\n\n\nfunction norecurEq(l0,l1) {\n    let rslt = true\n    for(let i=0;i<l0.length;i++) {\n        let cond = (l0[k] === l1[k])\n        if(cond === false) {\n            return(false)\n        }\n    }\n    return(rslt)\n}\n\nfunction simpleCompare(a, b) {\n    return a === b || a !== a && b !== b;\n}\n\nfunction isArray(arr) {\n    return Array.isArray(arr) || arr instanceof Array;\n}\n\nfunction isDate(value) {\n    return toString.call(value) === '[object Date]';\n}\n\nfunction isRegExp(value) {\n    return toString.call(value) === '[object RegExp]';\n}\n\n\nfunction isWindow(obj) {\n    return obj && obj.window === obj;\n}\nfunction isScope(obj) {\n    return obj && obj.$evalAsync && obj.$watch;\n}\n\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\n\nfunction isDefined(value) {\n    return typeof value !== 'undefined';\n}\n\n\nfunction createMap() {\n    return Object.create(null);\n}\n\n\nfunction equals(o1, o2) {\n    if (o1 === o2)\n        return true;\n    if (o1 === null || o2 === null)\n        return false;\n    if (o1 !== o1 && o2 !== o2)\n        return true;\n    var t1 = typeof o1, t2 = typeof o2, length, key, keySet;\n    if (t1 === t2 && t1 === 'object') {\n        if (isArray(o1)) {\n            if (!isArray(o2))\n                return false;\n            if ((length = o1.length) === o2.length) {\n                for (key = 0; key < length; key++) {\n                    if (!equals(o1[key], o2[key]))\n                        return false;\n                }\n                return true;\n            }\n        } else if (isDate(o1)) {\n            if (!isDate(o2))\n                return false;\n            return simpleCompare(o1.getTime(), o2.getTime());\n        } else if (isRegExp(o1)) {\n            if (!isRegExp(o2))\n                return false;\n            return o1.toString() === o2.toString();\n        } else {\n            if (isScope(o1) || isScope(o2) || isWindow(o1) || isWindow(o2) || isArray(o2) || isDate(o2) || isRegExp(o2))\n                return false;\n            keySet = createMap();\n            for (key in o1) {\n                if (key.charAt(0) === '$' || isFunction(o1[key]))\n                    continue;\n                if (!equals(o1[key], o2[key]))\n                    return false;\n                keySet[key] = true;\n            }\n            for (key in o2) {\n                if (!(key in keySet) && key.charAt(0) !== '$' && isDefined(o2[key]) && !isFunction(o2[key]))\n                    return false;\n            }\n            return true;\n        }\n    }\n    return false;\n}\n\n\nmodule.exports = {\n    deepcopyJSON,\n    afindi,\n    afindv,\n    getlsti,\n    getlstv,\n    getlsta,\n    secdel,\n    insert,\n    insertl,\n    norecurEq,\n    simpleCompare,\n    isArray,\n    isDate,\n    isRegExp,\n    isWindow,\n    isScope,\n    isFunction,\n    isDefined,\n    createMap,\n    equals\n}\n\n\n"],"sourceRoot":""}